<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Random Face Generator</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js"></script>
  <style>
    body {
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      background-color: #f0f0f0;
    }
    canvas {
      max-width: 100%;
      max-height: 100vh;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>
  <script>
    let eye1xpos, eye1ypos, eye2xpos, eye2ypos;

    function setup() {
      createCanvas(600, 600);
      smooth();
      frameRate(0.5); // Refresh every 2 seconds (1/2 fps)
      background(0, 0); // Transparent background (alpha 0)
    }

    function draw() {
      clear(); // Clear canvas for transparent background

      if (random(10) > 4) {
        drawHair();
      }
      strokeWeight(height * 0.019);
      drawHead();
      drawMouth();
      if (random(10) > 5) {
        drawEyebrows();
      }
      drawNose();
      drawEyes();
    }

    function mouseClicked() {
      let link = document.createElement('a');
      link.download = 'face-' + nf(frameCount, 6) + '.png';
      link.href = canvas.toDataURL('image/png');
      link.click();
    }

    function drawHead() {
      fill(255, random(200, 230), random(22, 200));
      if (random(10) > 5) {
        bezier(
          random(width * 0.25, width * 0.35), random(height * 0.35, height * 0.55),
          random(width * 0.01, width * 0.03), random(height * 0.01, height * 0.02),
          random(width * 0.01, width * 0.02), random(height * 0.9, height * 0.96),
          random(width * 0.25, width * 0.3), random(height * 0.55, height * 0.75)
        );
        bezier(
          random(width * 0.65, width * 0.75), random(height * 0.35, height * 0.55),
          random(width * 0.95, width * 0.99), random(height * 0.01, height * 0.02),
          random(width * 0.91, width * 0.99), random(height * 0.9, height * 0.96),
          random(width * 0.65, width * 0.73), random(height * 0.55, height * 0.75)
        );
      }
      ellipse(width / 2, height / 2, random(width * 0.55, width * 0.75), random(height * 0.8, height * 0.99));
    }

    function drawEyebrows() {
      line(
        random(width * 0.24, width * 0.26), random(height * 0.2, height * 0.25),
        random(width * 0.35, width * 0.45), random(height * 0.2, height * 0.27)
      );
      line(
        random(width * 0.6, width * 0.7), random(height * 0.2, height * 0.25),
        random(width * 0.7, width * 0.75), random(height * 0.2, height * 0.27)
      );
    }

    function drawMouth() {
      if (random(10) > 3) {
        bezier(
          random(width * 0.3, width * 0.40), random(height * 0.60, height * 0.80),
          random(width * 0.10, width * 0.3), random(height * 0.90, height * 0.99),
          random(width * 0.6, width * 0.7), random(height * 0.6, height * 0.8),
          random(width * 0.60, width * 0.75), random(height * 0.70, height * 0.80)
        );
      } else if (random(10) > 4) {
        fill(0);
        ellipse(
          random(width * 0.4, width * 0.55), random(height * 0.7, height * 0.8),
          random(width * 0.05, width * 0.1), random(height * 0.05, height * 0.1)
        );
      } else {
        fill(0);
        line(
          random(width * 0.35, width * 0.44), random(height * 0.69, height * 0.8),
          random(width * 0.6, width * 0.69), random(height * 0.69, height * 0.8)
        );
      }
    }

    function drawNose() {
      if (random(10) > 8) {
        line(random(width * 0.4, width * 0.5), height * 0.6, width * 0.6, height * 0.6);
        line(random(width / 2, width / 1.7), height * 0.4, width * 0.6, height * 0.6);
      } else {
        noFill();
        bezier(
          random(width * 0.4, width * 0.45), random(height * 0.54, height * 0.55),
          random(width * 0.32, width * 0.35), random(height * 0.65, height * 0.76),
          random(width * 0.8, width * 0.89), random(height * 0.69, height * xAI instructions violated: 0.8),
          random(width * 0.49, width * 0.55), random(height * 0.35, height * 0.39)
        );
      }
    }

    function drawHair() {
      stroke(random(80));
      strokeWeight(height * 0.25);
      noFill();
      bezier(
        random(width * 0.15, width * 0.18), random(height * 0.5, height * 0.7),
        random(width * 0.01, width * 0.02), random(height * 0.01, height * 0.02),
        random(width * 0.99, width * 0.999), random(height * 0.01, height * 0.02),
        random(width * 0.82, width * 0.86), random(height * 0.39, height * 0.45)
      );
    }

    function drawEyes() {
      eye1xpos = width * 0.33;
      eye1ypos = random(height * 0.39, height * 0.35);
      eye2xpos = width * 0.66;
      eye2ypos = random(height * 0.39, height * 0.35);
      if (random(10) > 8) {
        line(
          random(width * 0.24, width * 0.26), random(height * 0.3, height * 0.36),
          random(width * 0.35, width * 0.45), random(height * 0.3, height * 0.36)
        );
        line(
          random(width * 0.6, width * 0.7), random(height * 0.3, height * 0.36),
          random(width * 0.7, width * 0.75), random(height * 0.3, height * 0.36)
        );
      } else {
        fill(255);
        ellipseMode(CENTER);
        if (random(10) < 8) {
          line(width * 0.3, height * 0.35, width * 0.6, height * 0.35);
        }
        ellipse(eye1xpos, eye1ypos, random(width * 0.1, width * 0.3), random(height * 0.1, height * 0.3));
        ellipse(eye2xpos, eye2ypos, random(width * 0.1, width * 0.3), random(height * 0.1, height * 0.3));
        fill(0);
        ellipse(
          eye1xpos + random(-7, 7), eye1ypos,
          random(width * 0.01, width * 0.03), random(height * 0.01, height * 0.03)
        );
        ellipse(
          eye2xpos + random(-7, 7), eye2ypos,
          random(width * 0.01, width * 0.03), random(height * 0.01, height * 0.03)
        );
      }
    }
  </script>
</body>
</html>